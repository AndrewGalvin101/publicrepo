function showCurrent(n,t){var i;$("#city").append(n.name+" now");i="http://openweathermap.org/img/w/"+n.weather[0].icon+".png";$("#icon").append('<br /> <img src="'+i+'" alt=icon"> <h7><b>'+n.weather[0].description+"<\/b><\/h7>");$("#description").append(" "+n.weather[0].description);var r=n.main.temp,u=n.wind.speed,f=n.main.humidity;t=="imperial"?$("#conditions").append("<p><b>Temperature: <\/b>"+r+"&degF<\/p><p><b>Humidity: <\/b>"+f+"%<\/p><p><b>Wind: <\/b>"+u+" mph<\/p>"):$("#conditions").append("<p><b>Temperature: <\/b>"+r+"&degC<\/p><p><b>Humidity: <\/b>"+f+"%<\/p><p><b>Wind: <\/b>"+u+" m/s<\/p>");$("#current").show()}function showForecast(n){var t="",i;for(let r=0;r<5;r++)i=n[r],t="#day"+(r+1),$(t).empty(),$(t).append(i);$("#forecast").show()}$(document).ready(function(){$("#get-weather-button").click(function(){var t,i,n;if($("#city").empty().attr({"class":""}),$("#icon").empty(),$("#description").empty(),$("#conditions").empty(),$("#three-hour-click").show(),$("three-hour-forecasts").hide(),$("#three-hour-head").empty(),$("#three-hour-head-text").empty(),$("#threeHour1").empty(),$("#threeHour2").empty(),$("#threeHour3").empty(),$("#threeHour4").empty(),$("#threeHour5").empty(),t=$("#zip-code").val(),i=t.toString(),i.length!=5||t>99999)return $("#city").append("Error: Zip Code must be 5 digits!").attr({"class":"list-group-item list-group-item-danger"}),$("#current").show(),$("#forecast").hide(),!1;n=$("#units").val();$.ajax({type:"GET",url:"https://api.openweathermap.org/data/2.5/weather?zip="+t+",us&units="+n+"&APPID=d9e71a33ab91bc85d6babe9fdcbe1b5d",success:function(t){showCurrent(t,n);$("#footer").show()},error:function(){}});$.ajax({type:"GET",url:"https://api.openweathermap.org/data/2.5/forecast?zip="+t+",us&units="+n+"&APPID=d9e71a33ab91bc85d6babe9fdcbe1b5d&cnt=40",success:function(t){var s,r,c,u,o,f,e,h,i;console.log("Recieved data:",t);s=[];r=[];$("#forehead").empty();$("#foretext").empty();$("#day0").empty();$("#day1").empty();$("#day2").empty();$("#day3").empty();$("#day4").empty();$("#forehead").append(t.city.name+" forecast ");$("#foretext").append("for <b> 24-hour periods<\/b>:");e=h=0;c=t.list[0].dt;dateObj=new Date(c*1e3);day=dateObj.getDay();let l=moment(dateObj).format("h a");u=0;o=0;for(let c=1;c<=5;c++){for(f=u;f<u+8;f++)r.push(t.list[f].main.temp);e=r.reduce(function(n,t){return Math.max(n,t)});o=u+r.indexOf(e);h=r.reduce(function(n,t){return Math.min(n,t)});r=[];u=f;i="";day==7&&(day=0);day==0?dayOfWeek="Sunday":day==1?dayOfWeek="Monday":day==2?dayOfWeek="Tuesday":day==3?dayOfWeek="Wednesday":day==4?dayOfWeek="Thursday":day==5?dayOfWeek="Friday":day==6&&(dayOfWeek="Saturday");day++;day==7&&(day=0);day==0?nextDayOfWeek="Sunday":day==1?nextDayOfWeek="Monday":day==2?nextDayOfWeek="Tuesday":day==3?nextDayOfWeek="Wednesday":day==4?nextDayOfWeek="Thursday":day==5?nextDayOfWeek="Friday":day==6&&(nextDayOfWeek="Saturday");i+="<p>from <b> "+dayOfWeek+"<\/b> "+l+"<\/p>";i+="<p>to <b> "+nextDayOfWeek+"<\/b> "+l+"<\/p>";i+="<p>H <b>"+e;i+=n=="metric"?"<\/b>&degC":"<\/b>&degF";i+=" | L<b> "+h;i+=n=="metric"?"<\/b>&degC<\/p>":"<\/b>&degF<\/p>";i+="<span> "+t.list[o].weather[0].description+"<\/span><\/p>";i+="<p><img src='https://openweathermap.org/img/w/"+t.list[o].weather[0].icon+".png'>";i+="<\/p>";s.push(i)}showForecast(s)}})});$("#three-hour-button").click(function(){if($("#threeHour1").empty(),$("#threeHour2").empty(),$("#threeHour3").empty(),$("#threeHour4").empty(),$("#threeHour5").empty(),zipCode=$("#zip-code").val(),zipCodeString=zipCode.toString(),zipCodeString.length!=5||zipCode>99999)return $("#current").hide(),$("#city").append("Error: Zip Code must be 5 digits!").attr({"class":"list-group-item list-group-item-danger"}),$("#current").show(),!1;units=$("#units").val();$.ajax({type:"GET",url:"https://api.openweathermap.org/data/2.5/forecast?zip="+zipCode+",us&units="+units+"&APPID=d9e71a33ab91bc85d6babe9fdcbe1b5d&cnt=40",success:function(n){var t,i,r;p=0;for(let u=1;u<=5;u++){for(thr3hourForecast="",bump="#threeHour"+u,t=p;t<p+8;t++){timeUtc=n.list[t].dt;dateObj=new Date(timeUtc*1e3);day=dateObj.getDay();let u=moment(dateObj).format("h a");day==0?dayOfWeek="Sunday":day==1?dayOfWeek="Monday":day==2?dayOfWeek="Tuesday":day==3?dayOfWeek="Wednesday":day==4?dayOfWeek="Thursday":day==5?dayOfWeek="Friday":day==6&&(dayOfWeek="Saturday");i=new Date;r=i.getDay();thr3hourForecast+=day==r?"<p><b>  Today<\/b><p>":"<p><b> "+dayOfWeek+"<\/b><\/p>";thr3hourForecast+="<p> "+u+"<\/p>";thr3hourForecast+="<p> Temp: "+n.list[t].main.temp;thr3hourForecast+=units=="metric"?"&degC<\/p>":"&degF<\/p>";thr3hourForecast+="<p><span> "+n.list[t].weather[0].description+"<\/span><\/p>";thr3hourForecast+="<p><img src='https://openweathermap.org/img/w/"+n.list[t].weather[0].icon+".png'>";thr3hourForecast+="<p><\/p><hr />"}$(bump).empty();$(bump).append(thr3hourForecast);p=t}$("#three-hour-forecasts").show();$("#three-hour-head").append(n.city.name+" forecast ");$("#three-hour-head-text").append("in <b> 3-hour increments<\/b>:");$("#three-hour-click").hide()}})})});